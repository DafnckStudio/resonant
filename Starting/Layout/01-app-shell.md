# App Shell Layout

> Layout principal de l'application avec sidebar, header et zone de contenu

**Navigation**: [Overview](./00-overview.md) → App Shell → [Navigation System](./02-navigation-system.md)

---

## Wireframe Global

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                   VIEWPORT                                       │
│  ┌───────────────────────────────────────────────────────────────────────────┐  │
│  │ HEADER BAR (h: 56px, fixed top)                                           │  │
│  │ ┌─────────┬─────────────────────────────────────────┬─────────────────┐   │  │
│  │ │  LOGO   │              SEARCH BAR                 │     ACTIONS     │   │  │
│  │ │  56x56  │         (flex-1, max-w-600px)          │  [🔔] [?] [👤]  │   │  │
│  │ └─────────┴─────────────────────────────────────────┴─────────────────┘   │  │
│  └───────────────────────────────────────────────────────────────────────────┘  │
│  ┌────────────┬──────────────────────────────────────────────────────────────┐  │
│  │            │                                                               │  │
│  │  SIDEBAR   │                    MAIN CONTENT                              │  │
│  │  (w: 256px │                    (flex-1)                                  │  │
│  │  collapsed │                                                               │  │
│  │  : 64px)   │  ┌─────────────────────────────────────────────────────┐    │  │
│  │            │  │                                                      │    │  │
│  │ ┌────────┐ │  │                  PAGE HEADER                        │    │  │
│  │ │Workspace│ │  │         (breadcrumb + title + actions)             │    │  │
│  │ │Selector │ │  │                                                      │    │  │
│  │ └────────┘ │  ├─────────────────────────────────────────────────────┤    │  │
│  │            │  │                                                      │    │  │
│  │ ┌────────┐ │  │                                                      │    │  │
│  │ │  NAV   │ │  │                  PAGE CONTENT                       │    │  │
│  │ │ ITEMS  │ │  │                                                      │    │  │
│  │ │        │ │  │         (scrollable, padded container)              │    │  │
│  │ │ 🏠 Home│ │  │                                                      │    │  │
│  │ │ 📊 Work│ │  │                                                      │    │  │
│  │ │ 📁 Temp│ │  │                                                      │    │  │
│  │ │ ⚡ Exec│ │  │                                                      │    │  │
│  │ │ 🛒 Mark│ │  │                                                      │    │  │
│  │ └────────┘ │  │                                                      │    │  │
│  │            │  │                                                      │    │  │
│  │ ┌────────┐ │  │                                                      │    │  │
│  │ │ USER   │ │  │                                                      │    │  │
│  │ │ AREA   │ │  └─────────────────────────────────────────────────────┘    │  │
│  │ │ ⚙️ 👤  │ │                                                               │  │
│  │ └────────┘ │                                                               │  │
│  └────────────┴──────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## Header Bar Detail

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│ HEADER BAR                                                          h: 56px     │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                  │
│  ┌──────────────┬───────────────────────────────────────┬───────────────────┐   │
│  │              │                                        │                   │   │
│  │    LOGO      │            GLOBAL SEARCH              │     ACTIONS       │   │
│  │              │                                        │                   │   │
│  │  ┌────────┐  │  ┌────────────────────────────────┐   │  ┌───┬───┬─────┐ │   │
│  │  │▓▓▓▓▓▓▓▓│  │  │ 🔍 Search workflows, blocks... │   │  │ 🔔│ ? │ 👤  │ │   │
│  │  │RESONANT│  │  │    Cmd+K                        │   │  │   │   │     │ │   │
│  │  │   AI   │  │  └────────────────────────────────┘   │  └───┴───┴─────┘ │   │
│  │  └────────┘  │                                        │                   │   │
│  │              │                                        │                   │   │
│  │   w: 200px   │         w: flex-1 (max 600px)         │    w: auto       │   │
│  │              │                                        │                   │   │
│  └──────────────┴───────────────────────────────────────┴───────────────────┘   │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘

LOGO AREA:
├── Logo icon (32x32)
├── "Resonant" text (hidden on mobile)
└── Clickable → Dashboard home

SEARCH BAR:
├── Search icon (left)
├── Placeholder: "Search workflows, blocks..."
├── Keyboard shortcut hint: "⌘K"
├── Click → Opens Command Palette
└── Min-width: 200px, Max-width: 600px

ACTIONS:
├── Notifications bell (with badge count)
│   └── Click → Opens notifications panel
├── Help icon
│   └── Click → Opens help dropdown
└── User avatar
    └── Click → Opens user dropdown
```

---

## Sidebar Detail

### Expanded State (256px)

```
┌────────────────────────────────────────┐
│ SIDEBAR EXPANDED                w:256px│
├────────────────────────────────────────┤
│                                        │
│  ┌──────────────────────────────────┐  │
│  │ WORKSPACE SELECTOR              │  │
│  │ ┌────────────────────────────┐   │  │
│  │ │ 🏢 Acme Corporation      ▼ │   │  │
│  │ └────────────────────────────┘   │  │
│  │ Click → Workspace dropdown       │  │
│  └──────────────────────────────────┘  │
│                                        │
│  ════════════════════════════════════  │
│                                        │
│  ┌──────────────────────────────────┐  │
│  │ MAIN NAVIGATION                  │  │
│  │                                  │  │
│  │  ┌────────────────────────────┐  │  │
│  │  │ 🏠  Dashboard              │  │  │
│  │  └────────────────────────────┘  │  │
│  │  ┌────────────────────────────┐  │  │
│  │  │ 📊  Workflows         [24]│  │  │
│  │  └────────────────────────────┘  │  │
│  │  ┌────────────────────────────┐  │  │
│  │  │ 📁  Templates              │  │  │
│  │  └────────────────────────────┘  │  │
│  │  ┌────────────────────────────┐  │  │
│  │  │ ⚡  Executions         [3] │  │  │
│  │  └────────────────────────────┘  │  │
│  │  ┌────────────────────────────┐  │  │
│  │  │ 🛒  Marketplace            │  │  │
│  │  └────────────────────────────┘  │  │
│  │                                  │  │
│  └──────────────────────────────────┘  │
│                                        │
│  ════════════════════════════════════  │
│                                        │
│  ┌──────────────────────────────────┐  │
│  │ RECENT WORKFLOWS                 │  │
│  │                                  │  │
│  │  • Blog Post Generator           │  │
│  │  • Social Media Pipeline         │  │
│  │  • Email Automation              │  │
│  │                                  │  │
│  │  [View all →]                    │  │
│  └──────────────────────────────────┘  │
│                                        │
│  ════════════════════════════════════  │
│                                        │
│  ┌──────────────────────────────────┐  │
│  │ BOTTOM SECTION                   │  │
│  │                                  │  │
│  │  ┌────────────────────────────┐  │  │
│  │  │ ⚙️  Settings               │  │  │
│  │  └────────────────────────────┘  │  │
│  │                                  │  │
│  │  ┌────────────────────────────┐  │  │
│  │  │ 👤 John Doe               │  │  │
│  │  │    john@acme.com          │  │  │
│  │  │    [Pro Plan]      ▼      │  │  │
│  │  └────────────────────────────┘  │  │
│  │                                  │  │
│  └──────────────────────────────────┘  │
│                                        │
│  ┌──────────────────────────────────┐  │
│  │ [«] Collapse sidebar             │  │
│  └──────────────────────────────────┘  │
│                                        │
└────────────────────────────────────────┘
```

### Collapsed State (64px)

```
┌────────────┐
│  COLLAPSED │
│   w: 64px  │
├────────────┤
│            │
│  ┌──────┐  │
│  │ 🏢   │  │ ← Workspace icon only
│  └──────┘  │
│            │
│  ════════  │
│            │
│  ┌──────┐  │
│  │ 🏠   │  │ ← Dashboard
│  └──────┘  │
│  ┌──────┐  │
│  │ 📊   │  │ ← Workflows
│  └──────┘  │
│  ┌──────┐  │
│  │ 📁   │  │ ← Templates
│  └──────┘  │
│  ┌──────┐  │
│  │ ⚡   │  │ ← Executions
│  └──────┘  │
│  ┌──────┐  │
│  │ 🛒   │  │ ← Marketplace
│  └──────┘  │
│            │
│  ════════  │
│            │
│  ┌──────┐  │
│  │ ⚙️   │  │ ← Settings
│  └──────┘  │
│  ┌──────┐  │
│  │ 👤   │  │ ← User avatar
│  └──────┘  │
│            │
│  ┌──────┐  │
│  │ »    │  │ ← Expand
│  └──────┘  │
│            │
└────────────┘

Hover on collapsed item → Tooltip with label
```

---

## Main Content Area

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│ MAIN CONTENT AREA                                                                │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                  │
│  ┌───────────────────────────────────────────────────────────────────────────┐  │
│  │ PAGE HEADER                                                    h: 72px    │  │
│  │                                                                           │  │
│  │  ┌─────────────────────────────────────────────────────────────────────┐ │  │
│  │  │ BREADCRUMB                                                          │ │  │
│  │  │ Dashboard / Workflows / My First Workflow                           │ │  │
│  │  └─────────────────────────────────────────────────────────────────────┘ │  │
│  │                                                                           │  │
│  │  ┌─────────────────────────────────────────┬───────────────────────────┐ │  │
│  │  │ PAGE TITLE                              │      PAGE ACTIONS         │ │  │
│  │  │                                         │                           │ │  │
│  │  │ My First Workflow                       │  [Edit] [Run] [Share ▼]   │ │  │
│  │  │ Created 2 days ago • 15 executions      │                           │ │  │
│  │  │                                         │                           │ │  │
│  │  └─────────────────────────────────────────┴───────────────────────────┘ │  │
│  │                                                                           │  │
│  └───────────────────────────────────────────────────────────────────────────┘  │
│                                                                                  │
│  ┌───────────────────────────────────────────────────────────────────────────┐  │
│  │ PAGE TABS (optional)                                          h: 48px    │  │
│  │                                                                           │  │
│  │  ┌─────────┬─────────┬─────────┬─────────┬───────────────────────────┐   │  │
│  │  │Overview │ Editor  │Versions │ Runs    │                           │   │  │
│  │  │  ────   │         │         │   [12]  │                           │   │  │
│  │  └─────────┴─────────┴─────────┴─────────┴───────────────────────────┘   │  │
│  │                                                                           │  │
│  └───────────────────────────────────────────────────────────────────────────┘  │
│                                                                                  │
│  ┌───────────────────────────────────────────────────────────────────────────┐  │
│  │ PAGE CONTENT                                              overflow: auto  │  │
│  │                                                                           │  │
│  │  padding: 24px                                                            │  │
│  │  max-width: 1440px                                                        │  │
│  │  margin: 0 auto                                                           │  │
│  │                                                                           │  │
│  │  ┌─────────────────────────────────────────────────────────────────────┐ │  │
│  │  │                                                                     │ │  │
│  │  │                    [ ACTUAL PAGE CONTENT ]                          │ │  │
│  │  │                                                                     │ │  │
│  │  │              (varies based on current page/view)                    │ │  │
│  │  │                                                                     │ │  │
│  │  │                                                                     │ │  │
│  │  └─────────────────────────────────────────────────────────────────────┘ │  │
│  │                                                                           │  │
│  └───────────────────────────────────────────────────────────────────────────┘  │
│                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## Component Mapping

| Zone | shadcn/ui Components |
|------|---------------------|
| Header | `div` with flex, custom styling |
| Search Bar | `Button` (triggers Command) |
| Notifications | `Button`, `Popover`, `Badge` |
| User Menu | `DropdownMenu`, `Avatar` |
| Sidebar | `Sheet` (mobile), custom (desktop) |
| Nav Items | `Button` variant="ghost", `Badge` |
| Workspace Selector | `DropdownMenu` |
| Breadcrumb | `Breadcrumb` component |
| Page Tabs | `Tabs` component |
| Page Actions | `Button`, `DropdownMenu` |

---

## States

### Loading State

```
┌─────────────────────────────────────────────────────────────────┐
│ HEADER (static, always visible)                                  │
├──────────┬──────────────────────────────────────────────────────┤
│          │                                                       │
│ SIDEBAR  │  ┌─────────────────────────────────────────────────┐ │
│ (static) │  │ ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ │ │
│          │  │ ░░░░░░░░░░░ SKELETON LOADER ░░░░░░░░░░░░░░░░░░░ │ │
│          │  │ ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ │ │
│          │  └─────────────────────────────────────────────────┘ │
│          │                                                       │
└──────────┴──────────────────────────────────────────────────────┘
```

### Error State

```
┌─────────────────────────────────────────────────────────────────┐
│ HEADER                                                           │
├──────────┬──────────────────────────────────────────────────────┤
│          │                                                       │
│ SIDEBAR  │  ┌─────────────────────────────────────────────────┐ │
│          │  │                                                 │ │
│          │  │           ⚠️  Something went wrong              │ │
│          │  │                                                 │ │
│          │  │       We couldn't load this page.               │ │
│          │  │                                                 │ │
│          │  │              [ Try Again ]                      │ │
│          │  │                                                 │ │
│          │  └─────────────────────────────────────────────────┘ │
│          │                                                       │
└──────────┴──────────────────────────────────────────────────────┘
```

---

## Responsive Behavior

### Desktop (≥1024px)
- Sidebar: Expanded by default, collapsible
- Header: Full width with all elements visible
- Content: Max-width 1440px, centered

### Tablet (768px - 1023px)
- Sidebar: Collapsed by default, expandable
- Header: Search bar hidden, accessible via icon
- Content: Full width with padding

### Mobile (<768px)
- Sidebar: Hidden, accessible via hamburger menu (Sheet)
- Header: Simplified, burger + logo + user
- Content: Full width, reduced padding

```
MOBILE LAYOUT:
┌─────────────────────────────────────┐
│ ☰   RESONANT AI            🔔  👤  │
├─────────────────────────────────────┤
│                                     │
│         PAGE CONTENT                │
│                                     │
│    (full width, p-4)                │
│                                     │
│                                     │
├─────────────────────────────────────┤
│  [🏠] [📊] [📁] [⚡] [⋯]           │  ← Bottom navigation
└─────────────────────────────────────┘
```

---

## Keyboard Navigation

| Key | Action |
|-----|--------|
| `⌘K` | Open command palette |
| `⌘/` | Toggle sidebar |
| `⌘B` | Toggle sidebar (alternative) |
| `Tab` | Navigate focusable elements |
| `Escape` | Close modals/dropdowns |
| `⌘1-5` | Quick nav to main sections |

---

## Related Layouts

- **Next**: [Navigation System](./02-navigation-system.md) - Detailed navigation patterns
- **See also**: [Dashboard Home](./10-dashboard-home.md) - Dashboard content layout
- **See also**: [Editor Layout](./30-editor-layout.md) - Full-width editor layout
